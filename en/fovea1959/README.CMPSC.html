

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hercules CMPSC “Compression Call” instruction support &mdash; Hercules Documentation Demo 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link href="_static/herc_style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Hercules Documentation Demo
          

          
          </a>

          
            
            
              <div class="version">
                fovea1959
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hercinst.html">Building and Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercdasd.html">Creating DASD</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercoper.html">Operating Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercsupp.html">Technical Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercfaq.html">Frequently-Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Messages and Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="aa_auxdocs.html">Supporting documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_a.html">Appendix A - Documentation Standards</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hercules Documentation Demo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Hercules CMPSC “Compression Call” instruction support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README.CMPSC.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="hercules-cmpsc-compression-call-instruction-support">
<h1>Hercules CMPSC “Compression Call” instruction support<a class="headerlink" href="#hercules-cmpsc-compression-call-instruction-support" title="Permalink to this heading">¶</a></h1>
<p>The z/Architecture Compression Call instruction (CMPSC opcode B263) had
at one time two different implementations within Hercules 4.0 Hyperion.</p>
<p>The original (legacy) CMPSC implementation was lacking support for the
z/Architecture CMPSC-enhancement facility, failed to pass some cmpsctst
testing tool <strong>``(*)``</strong> architecural compliance tests, and was not as
fast.</p>
<p>The replacement “cmpsc_2012” implementation not only passes all cmpsctst
testing tool architectural compliance tests, but also fully supports the
z/Architecture CMPSC-enhancement facility, and is about 10% faster as
well. Because of this the old legacy implementation was removed and the
new 2012 implementation is now the <em>only</em> implementation in Hercules 4.0
Hyperion.</p>
<p>The CMPSC Compression Call instruction is fully described in painstaking
detail in publication “ESA/390 Data Compression” (SA22-7208) as well as
in the <a class="reference external" href="http://publibfi.boulder.ibm.com/epubs/pdf/dz9zr011.pdf">z/Architecture Principles of Operation
SA22-7832</a>
manual.</p>
<p>The new default cmpsc_2012 implementation logic is spread across several
different source files, each handling just one aspect of the
instructions overall functionality, and closely follows IBM’s flow
charts published in each of those manuals:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmpsc_2012</span><span class="o">.</span><span class="n">c</span>        <span class="n">Primary</span> <span class="n">implementation</span> <span class="n">functions</span>
<span class="n">cmpsc</span><span class="o">.</span><span class="n">h</span>             <span class="n">Implementation</span><span class="o">-</span><span class="n">wide</span> <span class="n">common</span> <span class="n">header</span>
<span class="n">cmpscbit</span><span class="o">.</span><span class="n">h</span>          <span class="n">Bit</span> <span class="n">Extraction</span> <span class="n">Helper</span> <span class="n">Macros</span>
<span class="n">cmpscget</span><span class="o">.</span><span class="n">h</span>          <span class="n">Get</span> <span class="n">Next</span> <span class="n">Index</span> <span class="n">Functions</span>
<span class="n">cmpscget</span><span class="o">.</span><span class="n">c</span>          <span class="n">Get</span> <span class="n">Next</span> <span class="n">Index</span> <span class="n">Functions</span>
<span class="n">cmpscput</span><span class="o">.</span><span class="n">h</span>          <span class="n">Put</span> <span class="n">Next</span> <span class="n">Index</span> <span class="n">Functions</span>
<span class="n">cmpscput</span><span class="o">.</span><span class="n">c</span>          <span class="n">Put</span> <span class="n">Next</span> <span class="n">Index</span> <span class="n">Functions</span>
<span class="n">cmpscdct</span><span class="o">.</span><span class="n">h</span>          <span class="n">Get</span> <span class="n">Dictionary</span> <span class="n">Entry</span> <span class="n">Functions</span>
<span class="n">cmpscdct</span><span class="o">.</span><span class="n">c</span>          <span class="n">Get</span> <span class="n">Dictionary</span> <span class="n">Entry</span> <span class="n">Functions</span>
<span class="n">cmpscmem</span><span class="o">.</span><span class="n">h</span>          <span class="n">Memory</span> <span class="n">Access</span> <span class="n">Functions</span>
<span class="n">cmpscmem</span><span class="o">.</span><span class="n">c</span>          <span class="n">Memory</span> <span class="n">Access</span> <span class="n">Functions</span>
<span class="n">cmpscdbg</span><span class="o">.</span><span class="n">h</span>          <span class="n">Debugging</span> <span class="n">Functions</span> <span class="p">(</span><span class="ow">not</span> <span class="n">implemented</span><span class="p">)</span>
<span class="n">cmpscdbg</span><span class="o">.</span><span class="n">c</span>          <span class="n">Debugging</span> <span class="n">Functions</span> <span class="p">(</span><span class="ow">not</span> <span class="n">implemented</span><span class="p">)</span>
</pre></div>
</div>
<p>The original legacy cmpsc implementation was written by Bernard van der
Helm of Noordwijkerhout, The Netherlands. The new/improved cmpsc_2012
implementation was written by Fish (David B. Trout) of the United States
of America, and borrows some of the techniques that Bernard pioneered.</p>
<p><strong>``(*)``</strong> The CMPSCTST instruction testing tool is maintained
separately from Hercules in its own source code repository on GitHub,
ships with a pre-built set of ready-to-run binaries (executable files
and scripts) for both Windows and Linux (CentOS 6.4 with gcc 4.4), a
default set of test files, and contains a detailed README explaining how
to not only build the tool for yourself but also how to run its many
tests. The repository is located
<a class="reference external" href="https://github.com/Fish-Git/cmpsctst">here</a>.</p>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: fovea1959
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Languages</dt>
        
           <strong> 
          <dd><a href="/herc-docs-demo/en/fovea1959/">en</a></dd>
           </strong> 
        
      </dl>
      
      
      <dl>
        <dt>Versions</dt>
        
           <strong> 
          <dd><a href="/herc-docs-demo/en/fovea1959/">fovea1959</a></dd>
           </strong> 
        
          
          <dd><a href="/herc-docs-demo/en/master/">master</a></dd>
          
        
          
          <dd><a href="/herc-docs-demo/en/0.0/">0.0</a></dd>
          
        
          
          <dd><a href="/herc-docs-demo/en/1.0/">1.0</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.pdf">pdf</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.epub">epub</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.html.tar.gz">tarred HTML</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.single.html.tar.gz">tarred single file HTML</a></dd>
        
      </dl>
      
      
      <hr/>
      <a href="https://tech.michaelaltfield.net/2020/07/18/sphinx-rtd-github-pages-1/">Continuous Documentation</a> hosting provided by <a href="https://pages.github.com/">GitHub Pages</a>.
 
    </div>
  </div>

 

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>