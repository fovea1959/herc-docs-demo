

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RXVT4APL Mods &mdash; Hercules Documentation Demo 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link href="_static/herc_style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Hercules Documentation Demo
          

          
          </a>

          
            
            
              <div class="version">
                fovea1959
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hercinst.html">Building and Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercdasd.html">Creating DASD</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercoper.html">Operating Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercsupp.html">Technical Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="hercfaq.html">Frequently-Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">Messages and Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="aa_auxdocs.html">Supporting documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_a.html">Appendix A - Documentation Standards</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hercules Documentation Demo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>RXVT4APL Mods</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README.RXVT4APL.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="rxvt4apl-mods">
<h1>RXVT4APL Mods<a class="headerlink" href="#rxvt4apl-mods" title="Permalink to this heading">¶</a></h1>
<p>Max H. Parke <a class="reference external" href="mailto:ikj1234i&#37;&#52;&#48;yahoo&#46;com">ikj1234i<span>&#64;</span>yahoo<span>&#46;</span>com</a> has modified the commadpt driver so APL
works properly with <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> is an 8-bit clean, colour xterm replacement that has been
optimised for use with openAPL. Here is Max’s README regarding his
rxvt4apl mods:</p>
<ol class="arabic">
<li><p>The rxvt4apl package provides a set of extensions to enable both
entry and display of the complete APL character set including the
characters without ASCII equivalents. Although we use the standard
version of <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> [2.4.5] without modifications, there is a
small bugfix patch (below) if necessary.</p></li>
<li><p>Once rxvt4apl has been installed and tested (there are several
required materials in openAPL such as X11 fonts and keymaps), you
should connect using telnet to the listening port for the terminal in
Hercules:</p>
<p>telnet localhost 57413</p>
</li>
</ol>
<p>then type the standard APL command to sign on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">)</span><span class="mi">1234</span>
</pre></div>
</div>
<p>There is extensive helpful documentation with openAPL if you have
problems with X11 fonts or keymaps, etc.</p>
<ol class="arabic simple" start="3">
<li><p>Rather than use the right ALT key, I used the unused “Windows” key
for the Mode_switch key in <code class="docutils literal notranslate"><span class="pre">modeswitch.xmap</span></code>:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clear</span> <span class="n">Mod5</span>
<span class="n">clear</span> <span class="n">Mod4</span>
<span class="n">clear</span> <span class="n">Mod3</span>
<span class="n">keycode</span> <span class="mi">133</span> <span class="o">=</span> <span class="n">Mode_switch</span>
<span class="n">add</span> <span class="n">Mod3</span> <span class="o">=</span> <span class="n">Mode_switch</span>
</pre></div>
</div>
<ol class="arabic" start="4">
<li><p>The terminals must be defined to Hercules using the following device
statement:</p>
<p>0402 2703 dial=in lport=57413 lnctl=ibm1 term=rxvt4apl skip=5EDE
code=ebcd iskip=0D0A prepend=16 append=5B1F eol=0A binary=yes
crlf=yes sendcr=yes</p>
</li>
<li><p>In general, when typing a character, <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> seems to prefer to
use the standard ASCII character if it exists, in preference to the
APL character. So for example if you wish to enter the apostrophe
(’), use your ASCII keyboard’s standard apostrophe key, not APL’s
apostrophe (ordinarily <code class="docutils literal notranslate"><span class="pre">shift-K</span></code>).</p></li>
<li><p>In this implementation the standard alphabet APL characters A-Z must
be typed as <em>lowercase</em> ASCII characters to be properly translated on
input. Also, <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> is missing the underlined alphabet
characters.</p></li>
<li><p>Overstrike handling is supplied in this driver release, although they
can be formed by entering the individual characters separated by the
backspace key. The display will not be correct but the overstrike
sequence will be properly received by APL\360. Better is to enter
the overstrike characters using the <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> composite
characters; when this is done the driver will convert these
extended-ASCII characters into the proper overstrike sequences used
by APL\360 on input (the extended characters are converted into
three-character sequences in 2741 code, with the middle character in
the sequence being the backspace character). On output, the driver
replaces the third character in the overstrike sequence with the
correct <code class="docutils literal notranslate"><span class="pre">rxvt4apl</span></code> extended-ASCII character.</p></li>
<li><p>Many quirks exist - a couple of examples:</p></li>
</ol>
<ul class="simple">
<li><p>The right arrow key (branch command) must be hit twice.</p></li>
<li><p>Some commands such as up and/or down grade cause unexpected escape to
telnet command mode, even in binary mode.</p></li>
</ul>
<ol class="arabic" start="9">
<li><p>If you receive this error when running rxvt4apl:</p>
<p>can’t open pseudo-tty</p>
</li>
</ol>
<p>try the following patch (required for recent Ubuntu):</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- rxvt4apl_2.4.5/src/command.c</span>
<span class="gi">+++ rxvt4apl_2.4.5-patched/src/command.c</span>
<span class="gu">@@ -448,7 +448,7 @@</span>
<span class="w"> </span>    ptydev = ttydev = _getpty(&amp;fd, O_RDWR | O_NDELAY, 0622, 0);
<span class="w"> </span>    if (ptydev == NULL)
<span class="w"> </span>       goto Failed;
<span class="gd">-#elif defined (__svr4__)</span>
<span class="gi">+#elif 1 // defined (__svr4__)</span>
<span class="w"> </span>    {
<span class="w"> </span>       extern char    *ptsname();
</pre></div>
</div>
</section>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: fovea1959
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Languages</dt>
        
           <strong> 
          <dd><a href="/herc-docs-demo/en/fovea1959/">en</a></dd>
           </strong> 
        
      </dl>
      
      
      <dl>
        <dt>Versions</dt>
        
           <strong> 
          <dd><a href="/herc-docs-demo/en/fovea1959/">fovea1959</a></dd>
           </strong> 
        
          
          <dd><a href="/herc-docs-demo/en/master/">master</a></dd>
          
        
          
          <dd><a href="/herc-docs-demo/en/0.0/">0.0</a></dd>
          
        
          
          <dd><a href="/herc-docs-demo/en/1.0/">1.0</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.pdf">pdf</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.epub">epub</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.html.tar.gz">tarred HTML</a></dd>
        
          <dd><a href="/herc-docs-demo/en/fovea1959/Hercules Documentation Demo-docs_en_fovea1959.single.html.tar.gz">tarred single file HTML</a></dd>
        
      </dl>
      
      
      <hr/>
      <a href="https://tech.michaelaltfield.net/2020/07/18/sphinx-rtd-github-pages-1/">Continuous Documentation</a> hosting provided by <a href="https://pages.github.com/">GitHub Pages</a>.
 
    </div>
  </div>

 

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>